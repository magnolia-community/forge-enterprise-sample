language: java
jdk: oraclejdk8
before_install:
- cd /tmp
- mkdir -p ~/.m2
- echo "<settingsSecurity><master>`mvn --encrypt-master-password ${MASTPASS}`</master></settingsSecurity>"
  > ~/.m2/settings-security.xml
- mvn org.sonatype.plugins:nexus-m2settings-maven-plugin:1.6.5:download -DnexusUrl=https://nexus.magnolia-cms.com
  -Dusername=${USERNAME} -Dpassword=${PASSWORD} -DtemplateId=magnolia-internal-UEkeku77mdz
- cd -
script:
- mvn clean install
cache:
  directories:
  - "~/.m2/repository"
env:
  global:
  - secure: kLPaXBJS20XLLgTZunuUjCMAkAf6kaR1G0/2z8FUArsebJhTjxItIbHNYIkLU4TgvzqRpGF4wb8F1sDS/Vk/o0zZnkb9ZUDOLvIYVzZfVIQbTkjr1nlfdkLMCgF7RSWc43Ozo+484T5gcbvMgq4PczgSy+yUo8EWzoTqFHPCvEYiRpdD/CG2opz+Nohz9Zal/0Fe6iMMG5WEJj8d4QIQvKX8bpV2I17v5s3WEUa6jcJ1rl2u9S0ISfecdm0ftPZeYkZ0yRS+DC7B/D1GZUyS+HNZ5tr98cCTNUp2beFgmrssx6APJBo8308PrVP1bHvowJZedOEu3zRkpFxsNEMpFMe15qn0TLKCukimUTC8DtDZXi/Mpp1SsDzUDmNv4UZ3wtPz5nCcj7NuyGrUYpYkOONaEd6c6w3sl3Gf5+YTPeURgunarYkIBZml/+1MTaD6Jcxb/2SlTaFqu5ubzv6AXcSONC4J4MMzr4ayjqAzAZLzyMWA96xOTKnzVTiEcZwr8qQA/WMgvRqR8DyezLHH2IeCHgqUpivmS1/CnwK02YRxYq1GlFtlqCd9C9S4PVxmjQQFJqFN3MSVQ1z4GAWi6DixrAJwqXEz7OhILN5EuSVc37bHMe1NspIBA6o1uq8SrIVd7uBNDjNN/XKL3GiWOVv94DJQwYDKJH/wqx3Qsf0=
  - secure: k/vLUceaMbV53sux8SWePCHGk5UHFg3GrJb91oCaPzf1J/KkiarExR4NNPXWh5AhVYp5qcqttv5B5cUCTr2aN2yKTa1woQqhvaYFoV9glRkbwwSgph7fPCPymVz6F4MM4a0Pq7Zy7I41YKkR+1hL/vcslSk3uXj1ng4HlMSjnRKhzY+7VBSRMxwwRGN2xAOvHi7k0EU4IIDvvJyPXMBOhg3bCzK1BfXt6NdfkjHiEiDZO69N1k2CMZP7K3khD7GLmabMO0IEhAAN9l96hOn7O/VXbSImERmj42WTFyAiNIAt5jsXah8MiKr35uKHRWV+RqEWnQYPNnjvm1tbm0vzPUCh3NgUtLZdi9TGiG9mgkEduXRHvOZCKNZpLeMc1MpgVbVutCMl5akNFWZk5OCZfvk9isVMp/wsIx3kdIq2+MbgM1il2R2GZlwbblOkzGE3DpUjW5YZLQHQKjxXEXhlmd6Q9SQ+jVOhK8t/nKCr7QpHHHr2lHeNDFsKgT3M93672toEds8/6PHKIpCl+8OCakKB5L6ww91VbbHH+VnI1fybK5E7L/2QJVxwRPsLst1p4NYSYxBGmwtDMXhtRFDtfTM8Yj2np2JVeqkhDXothg8Z53KxdZ+VX32nqdaj3+9AzCVYjQtar8VcQXcdQbaOQjS4XW5RiQv29qVB+VDUEzk=
  - secure: CFLjStVRttwn5BqYhuFyzdKbDZHKrCrI7WcG5DBFtgjJAfC3BKHdIiB3lVOdPXVXvK8otkJAPZ0FEWbHDdo7kxl+VtmT9IuRlEmeEP0gI1hZyGjibI3hf8nSwH42om/VO14w3luSS84HHigiCB8ZEdPpeMjAw91bcPGq6fnQU9V5DaeumPueOjxnZuq01mvma6jckEVQ9Y4R47cAvGtuH+GZrO4z0Zk6Bz3PKNC342h5g3YFLOYe2UKz5+teXhubQvoU1/pPUkfPrHS5oJLqcpQIuAcMOiEHJA/ghKrV3B5QqjPcXhBrF002T1/tjpQmJknWwKmDWCdFYI+1ROiFe7wupyQReUYO4mzfhHPrW36CAWmPj1yL0VpJD5j+BOSIlJyXsPmij0IrgRFiHztlvl5lz/P34JcPtOL6HuMNqXHYQTetOyUN+r+mBK9YW8sE3/Ucyx/ssd/R3UJ06OMaebzzsZYYCtLKP2QS3iwADC48mO3dy1FWwGngIvlavI/JuQmxXcn9BmmUs92SA38jJ/7lCz2gaybGD12rIBTzTKlskwZpe3rlaPfpSsH3sa9t0wuaqxBRE1YrohPRpHRFpLHyfD+cP31xpGpC9iNTm1d4HneSD6qGMHuQALR3zDeXTRq0ITlNU17DohEXX7xhc6+XMElrMyfXwrNX0nq5yZI=
